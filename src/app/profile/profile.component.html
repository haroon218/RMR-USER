<div class="container" style="margin-top: 16px;">
    <div class="balance-card">
        <div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <!-- Left side: Balance and Points -->
                <div style="display: flex; flex-direction: column;">
                    <p class="balance-info" style="margin: 0;">
                        Balance
                        <span class="fas fa-info-circle"></span>
                    </p>
                    <p class="points" style="margin: 0;">
                        {{wallet?.length>0?wallet[0].points:'0'}}
                        <span style="font-size: 14px; font-weight: 400; line-height: 20px;">
                            Points
                        </span>
                    </p>
                </div>
                <!-- Right side: Image -->
                <div>
                    <img src="/assets/Badge_03.png" alt="" style="height: 60px; width: 60px; object-fit: contain;">
                </div>
            </div>
        </div>
    </div>
    <div class="back-button" (click)="goBack()">
        <i class="fas fa-arrow-left" style="border-radius: 50%;
     background-color: #6D428F;
     color: white;
     padding: 4px;
    
     font-size: 13px;
     align-items: end;
     width: 20px;
     height: 20px;">
        </i>
        Back
    </div>
    <img alt="Pizza with various toppings" class="header-image" height="75" [src]="profileData?.row?.logo" />
    <div class="text-center">
        <img alt="Pizza Hut logo" class="profile-image" height="100" [src]="profileData?.row?.logo" width="100" />
        <div class="profile-name">
            {{profileData?.row?.name}}
        </div>
        <div class="profile-description">
            serves fresh pizzas with various toppings in a welcoming atmosphere
        </div>
    </div>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active': activeTab === 'offer'}" style="padding: 7px;"
                (click)="selectTab('offer')">
                Offer
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active': activeTab === 'rewards'}" style="padding: 7px;"
                (click)="selectTab('rewards')">
                Rewards
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active': activeTab === 'branches'}" style="padding: 7px;"
                (click)="selectTab('branches')">
                Branches
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active': activeTab === 'reviews'}" style="padding: 7px;"
                (click)="selectTab('reviews')">
                Reviews
            </a>
        </li>
    </ul>


    <ng-container *ngIf="activeTab === 'offer'">
        <div class="container mt-4" style="padding: 0;">
            <div class="card offer-card" *ngFor="let offer of offers" [routerLink]="['/offer-detail']"
                [queryParams]="{ id: offer?.id }">
                <img alt="Burger with cheese and drink offer" class="card-img-top" height="200"
                    [src]="offer?.images[0].url" width="600" />
            </div>

        </div>
    </ng-container>
    <ng-container *ngIf="activeTab === 'rewards'">
        <div class="container mt-4" style="padding: 0;">
            <div class="reward-card" *ngFor="let reward of rewards" [routerLink]="['/reward-detail']"
                [queryParams]="{ id:reward.id }">
                <img alt="Image of a Wagyu Burger" height="60" [src]="reward?.images[0].url" width="60" />
                <div class="details">
                    <div style="display: flex;flex-direction: row;justify-content: space-between;">
                        <div class="title">
                            {{reward?.name}}
                        </div>
                        <div class="points">
                            {{reward?.points}}
                        </div>
                    </div>

                    <div class="subtitle">
                        {{reward?.description}}
                    </div>
                </div>

            </div>

        </div>
    </ng-container>
    <ng-container *ngIf="activeTab==='branches'">
        <div class="container mt-4" style="padding: 0;">
            <div class="branch-card" *ngFor="let branch of branches">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="branch-title">{{branch?.name}}</div>
                    <div class="branch-distance">1.2 km</div>
                </div>
                <div class="mt-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="branch-info">
                            <div>Phone Number</div>
                            <div><strong>{{branch?.telephone_no}}</strong></div>
                        </div>
                        <button class="btn btn-call"><i class="fas fa-phone-alt"></i> Call</button>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-2">
                        <div class="branch-info">
                            <div>Location</div>
                            <div><strong>{{branch?.address}}</strong></div>
                        </div>
                        <button class="btn btn-location"><i class="fas fa-map-marker-alt"></i> Open</button>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-2">
                        <div class="branch-info">
                            <div>Hours</div>
                            <div><strong>24 hours</strong></div>
                        </div>
                        <button class="btn btn-hours"><i class="fas fa-circle"></i> Open</button>
                    </div>
                </div>
            </div>


        </div>
    </ng-container>
    <ng-container *ngIf="activeTab==='reviews'">
        <div class="container mt-4" style="padding: 0;">
            <!-- <div>
                <iframe
                src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDvTeGBMZwiNI1acJ-biduXVem8XTS26Uw&libraries=places&placeid=ChIJN1t_tDeuEmsRUsoyG83frY4"
                width="600"
                height="450"
                style="border:0;"
                allowfullscreen=""
                loading="lazy">
              </iframe>
            </div> -->
            <div class="review-card mb-4">

                <!-- <div class="review-header">
                    <img alt="Profile picture of reviewer" height="50"
                        src="https://storage.googleapis.com/a1aa/image/NeAxbvBcsKW5V6k3Ho2OQPv5Iub4H3DkZ7B757ziTEzYxr6JA.jpg"
                        width="50" />
                    <div>
                        <div class="name">
                            {{review.name}}
                        </div>
                        <div class="date">
                            {{review.created_at | date: 'MMM dd, yyyy'}}
                        </div>
                    </div>
                    <div class="stars">
                        <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                            <i
                              [class.fas]="i + 1 <= review.rating"
                              [class.fa-star]="i + 1 <= review.rating"
                              [class.fa-star-half-alt]="i + 0.5 === review.rating"
                              [class.far]="i + 1 > review.rating"
                            ></i>
                          </ng-container>
                    </div>
                </div> -->


                <!-- <div class="review-body">
                   {{review.body}}
                </div> -->
                <!-- <div class="review-images">
                    <img alt="Image of a burger" height="60"
                        src="https://storage.googleapis.com/a1aa/image/uXJXyPKy6C4RPR9roKeS9KJLS7kqvRZRvG3HXJuOI07Xxr6JA.jpg"
                        width="60" />
                    <img alt="Image of a burger" height="60"
                        src="https://storage.googleapis.com/a1aa/image/uXJXyPKy6C4RPR9roKeS9KJLS7kqvRZRvG3HXJuOI07Xxr6JA.jpg"
                        width="60" />
                    <img alt="Image of a burger" height="60"
                        src="https://storage.googleapis.com/a1aa/image/uXJXyPKy6C4RPR9roKeS9KJLS7kqvRZRvG3HXJuOI07Xxr6JA.jpg"
                        width="60" />
                </div> -->
                <button (click)="giveReview()">Give Review</button>
                <div *ngFor="let review of reviews" class="review-container">
                    <div class="review-header">
                        <div class="avatar">{{ review.author_name[0] }}</div>
                        <div class="author-details">
                            <p class="author-name">{{ review.author_name }}</p>
                            <p class="review-date">{{ formatDate(review.time) }}</p>
                        </div>
                    </div>
                    <div class="review-content">
                        <div class="stars">
                            <span *ngFor="let star of [1, 2, 3, 4, 5]">
                                <i class="fa" [ngClass]="star <= review.rating ? 'fa-star' : 'fa-star-o'"></i>
                            </span>
                        </div>
                        <p class="review-text">{{ review.text }}</p>
                    </div>
                </div>

            </div>
        </div>
    </ng-container>
</div>